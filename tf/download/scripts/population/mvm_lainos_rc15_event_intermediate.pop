// Spawns:

//spawnbot - main central spawn
//spawnbot_giant - giant bot central spawn
//spawnbot_left - left spawn (roofs)
//spawnbot_right - right spawn (waterfall)
//flankers - both left and right
//spawnbot_invasion - all 3 at once

//Tank Spawns:

//tank_path_a_1 - spawn behind the waterfall, very long route
//tank_path_b_1 - city spawn, fast route

//Relays:

//wave_start_relay - classic start relay
//wave_start_two_bombs_relay - 2 bombs start relay
//wave_start_three_bombs_relay - 3 bombs start relay
//wave_start_endurance_relay - endurance/ironman mode start relay

//wave_finished_relay - standard relay (next wave route will be chosen randomly)
//wave_finished_relay_right - choose right route(city, alongside tank route) for the next wave
//wave_finished_relay_left - choose left route(ruins) for the next wave

#base robot_giant.pop
#base robot_standard.pop

WaveSchedule													
{
	StartingCurrency 700
	RespawnWaveTime 4
	CanBotsAttackWhileInSpawnRoom no
	
	Templates
	{		
		T_TFBot_Demoman_AliBaba
		{
			Class Demoman
			ClassIcon demoknight
			Skill Hard
			Item "Sultan's Ceremonial"	
			Item "Ali Baba's Wee Booties"
			Item "The Persian Persuader"
			Item "The Splendid Screen"
			ItemAttributes
			{
				ItemName "The Splendid Screen"
				"Attack not cancel charge" 1
			}		
			WeaponRestrictions MeleeOnly
			CharacterAttributes
			{
				"critboost on kill" 3
			}
		}
		T_TFBot_Sniper_Bushwacka
		{
			Class Sniper
			ClassIcon sniper_bushwacka
            Name "Bushwacka Sniper"
            Skill Expert
            WeaponRestrictions MeleeOnly
            Item "The Bushwacka"
		}
	}	
///////////////////////////////////////////////////////////////////////////
//SENTRY BUSTER MISSIONS
///////////////////////////////////////////////////////////////////////////

	Mission // Wave 1
	{
		InitialCooldown 15
		Objective DestroySentries
		Where spawnbot_mission_sentrybuster
		CooldownTime 45
		BeginAtWave 1
		RunForThisManyWaves 1

		TFBot
		{
			Template T_TFBot_SentryBuster
		}
	}

	Mission //Waves 2+
	{
		Objective DestroySentries
		Where spawnbot_mission_sentrybuster
		CooldownTime 30
		BeginAtWave 2
		RunForThisManyWaves 5

		TFBot
		{
			Template T_TFBot_SentryBuster
		}
	}

///////////////////////////////////////////////////////////////////////////
//SNIPER MISSIONS
///////////////////////////////////////////////////////////////////////////

	Mission	// Sniper wave 4
	{
		Objective Sniper

		InitialCooldown 60
		Where spawnbot_mission_sniper
		BeginAtWave 4
		RunForThisManyWaves 1
		CooldownTime 60
		DesiredCount 1

		TFBot
		{
			Template T_TFBot_Sniper
			Skill Hard
			CharacterAttributes
			{
				"damage bonus"	1.0
			}
		}
	}

	Mission	// Sniper wave 5
	{
		Objective Sniper

		InitialCooldown 60
		Where spawnbot_mission_sniper
		BeginAtWave 5
		RunForThisManyWaves 1
		CooldownTime 45
		DesiredCount 1

		TFBot
		{
			Template T_TFBot_Sniper
			Skill Hard
			CharacterAttributes
			{
				"damage bonus"	1.0
			}
		}
	}

	Mission	// Sniper wave 6
	{
		Objective Sniper

		InitialCooldown 30
		Where spawnbot_mission_sniper
		BeginAtWave 6
		RunForThisManyWaves 1
		CooldownTime 45
		DesiredCount 1

		TFBot
		{
			Template T_TFBot_Sniper
			Skill Hard
			CharacterAttributes
			{
				"damage bonus"	1.0
			}
		}
	}

///////////////////////////////////////////////////////////////////////////
//ENGINEER MISSIONS
///////////////////////////////////////////////////////////////////////////

	Mission // Engineer wave 4
	{
		Objective Engineer  

		InitialCooldown 30
		Where flankers
		BeginAtWave 4
		RunForThisManyWaves 1
		CooldownTime 30
		DesiredCount 1

		TFBot
		{
			Template T_TFBot_Engineer_Sentry_Teleporter
			TeleportWhere spawnbot
			Attributes TeleportToHint
			Health 600
		}
	}
	
	Mission // Engineer wave 5
	{
		Objective Engineer  

		InitialCooldown 60
		Where flankers
		BeginAtWave 5
		RunForThisManyWaves 2
		CooldownTime 45
		DesiredCount 1

		TFBot
		{
			Template T_TFBot_Engineer_Sentry_Teleporter
			TeleportWhere spawnbot
			TeleportWhere spawnbot_left
			TeleportWhere spawnbot_right
			TeleportWhere spawnbot_mission_sentrybuster
			Attributes TeleportToHint
			Health 600
		}
	}

///////////////////////////////////////////////////////////////////////////
//SPY MISSIONS
///////////////////////////////////////////////////////////////////////////

	Mission // Spy wave 3
	{
		Objective Spy  

		InitialCooldown 60
		Where spawnbot_mission_spy
		BeginAtWave 3
		RunForThisManyWaves 1
		CooldownTime 45
		DesiredCount 1

		TFBot
		{
			Class Spy
			Skill Expert
			Name Spy
		}
	}
	
	Mission // Spy wave 4
	{
		Objective Spy  

		InitialCooldown 45
		Where spawnbot_mission_spy
		BeginAtWave 4
		RunForThisManyWaves 1
		CooldownTime 45
		DesiredCount 2

		TFBot
		{
			Class Spy
			Skill Expert
			Name Spy
		}
	}

	Mission // Spy wave 6
	{
		Objective Spy  

		InitialCooldown 60
		Where spawnbot_mission_spy
		BeginAtWave 6
		RunForThisManyWaves 1
		CooldownTime 45
		DesiredCount 1

		TFBot
		{
			Class Spy
			Skill Expert
			Name Spy
		}
	}

//WAVE 1  /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		
		WaveSpawn
		{
			Name "w1a"
			Where spawnbot
			//WaitForAllSpawned "w1a"
			//WaitForAllDead "w1a"
			//WaitBeforeStarting 15
			TotalCount 32
			MaxActive 14
			SpawnCount 4				
			WaitBetweenSpawns 2		
			TotalCurrency 200
			
			TFBot
			{
				Class Scout
				Skill Easy
				WeaponRestrictions MeleeOnly
			}
		}
		WaveSpawn
		{
			Name "w1a2"
			Where spawnbot
			WaitForAllSpawned "w1a"
			//WaitForAllDead "w1b"
			WaitBeforeStarting 6
			TotalCount 12
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 6		
			TotalCurrency 100
			
			TFBot
			{
				Class Pyro
				Skill Easy
			}
		}
		
		WaveSpawn // Demo
		{
			Where spawnbot
			Name "w1a3"
			WaitBeforeStarting 12
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 6		
			TotalCurrency 50	

			TFBot
			{
				Class Demoman
				Skill Easy
			}
		}
		
		WaveSpawn
		{
			Name "w1_flank"
			Where flankers
			//WaitForAllSpawned "w1b"
			//WaitForAllDead "w1b"
			WaitBeforeStarting 20
			TotalCount 6	
			MaxActive 3			
			SpawnCount 3
			WaitBetweenSpawns 6
			TotalCurrency 50

			TFBot
			{
				Template T_TFBot_Sniper_Huntsman
			}
		}
		
		WaveSpawn
		{
			Name "w1b"
			Where spawnbot
			WaitForAllSpawned "w1a"
			//WaitForAllDead "w1b"
			//WaitBeforeStarting 10
			TotalCount 1	
			MaxActive 1					
			SpawnCount 1			
			TotalCurrency 100
			
			TFBot
			{
				Template T_TFBot_Giant_Pyro
				Attributes AlwaysFireWeapon
				//Skill Easy
			}
		}
		WaveSpawn
		{
			Name "w1b2"
			Where spawnbot
			WaitForAllSpawned "w1a"
			//WaitForAllDead "w1b"
			WaitBeforeStarting 3
			TotalCount 30
			MaxActive 15
			SpawnCount 4
			WaitBetweenSpawns 2
			TotalCurrency 200
			
			TFBot
			{
				Template T_TFBot_Scout_SunStick
			}
		}
		
		WaveSpawn
		{
			Name "w1i"
			Where spawnbot_invasion
			WaitForAllSpawned "w1b"
			//WaitForAllDead "w1b"
			WaitBeforeStarting 3
			TotalCount 8	
			MaxActive 4				
			SpawnCount 2
			WaitBetweenSpawns 6
			TotalCurrency 100
			
			Support 1
			
			Squad
			{
				TFBot
				{
					Class Pyro
					Skill Easy
					WeaponRestrictions PrimaryOnly
					Attributes AlwaysFireWeapon
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
				}
			}
		}
	}

//WAVE 2  /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay_right
			Action trigger
		}
		
		WaveSpawn
		{
			Name "w2a"
			Where spawnbot
			//WaitForAllSpawned "w1a"
			//WaitForAllDead "w1a"
			//WaitBeforeStarting 15
			TotalCount 28
			MaxActive 12						
			SpawnCount 4				
			WaitBetweenSpawns 4			
			TotalCurrency 200
			
			TFBot
			{
				Template T_TFBot_Demoman_AliBaba
			}
		}
		WaveSpawn
		{
			Where spawnbot
			Name "w2a2"
			WaitBeforeStarting 3
			TotalCount 16
			MaxActive 6
			SpawnCount 4
			WaitBetweenSpawns 4
			TotalCurrency 50	

			TFBot
			{
				Class Demoman
				Skill Easy
			}
		}
		WaveSpawn
		{
			Where flankers
			Name "w2s1"
			WaitBeforeStarting 10
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 4
			TotalCurrency 50

			TFBot
			{
				Template T_TFBot_Sniper_Huntsman
			}
		}
		
		WaveSpawn
		{
			Name "w2boss"
			WaitForAllSpawned "w2a"
			Where spawnbot
			//WaitBeforeStarting 5
			TotalCount 3	
			MaxActive 3			
			SpawnCount 3
			//WaitBetweenSpawns 15			
			TotalCurrency 200
						
			Squad
			{
				TFBot
				{
					Class Sniper
					Name "Giant Rapid Bowman"
					Item "The Huntsman"
					ClassIcon sniper_bow_spammer
					Skill Hard
					Health 2000
					Attributes	MiniBoss
					Attributes AlwaysCrit
					
					ItemAttributes
					{
						ItemName	"The Huntsman"
						"faster reload rate" -2
					}
					CharacterAttributes
					{
						"move speed bonus"	0.6
						"damage force reduction" 0.3
						"airblast vulnerability multiplier" 0.3
						"override footstep sound set" 7
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber                     
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber                       
				}
			}
		}
		WaveSpawn
		{
			Name "w2b"
			Where spawnbot
			WaitForAllSpawned "w2boss"
			//WaitForAllDead "w1b"
			WaitBeforeStarting 5
			TotalCount 28
			MaxActive 16
			SpawnCount 4
			WaitBetweenSpawns 2			
			TotalCurrency 200
			
			TFBot
			{
				Template T_TFBot_Sniper_Bushwacka
			}
		}
		
		WaveSpawn
		{
			Name "w2c"
			Where spawnbot
			WaitForAllSpawned "w2b"
			//WaitForAllDead "w1a"
			//WaitBeforeStarting 15
			TotalCount 40
			MaxActive 12
			SpawnCount 4				
			WaitBetweenSpawns 2		
			TotalCurrency 200
			
			TFBot
			{
				Template T_TFBot_Scout_Melee
			}
		}
		WaveSpawn
		{
			Name "w2c2"
			Where spawnbot
			WaitForAllSpawned "w2b"
			WaitBeforeStarting 2
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 2
			TotalCurrency 100
			
			Squad
			{
				TFBot
				{
					Class Heavy
					ClassIcon heavy_natascha_nys
					Name "Natascha Heavy"
					Skill Normal
					Item "The Natascha"
				}
				TFBot
				{
					Class Heavy
					ClassIcon heavy_natascha_nys
					Name "Natascha Heavy"
					Skill Normal
					Item "The Natascha"
				}
				TFBot
				{
					Class Heavy
					ClassIcon heavy_natascha_nys
					Name "Natascha Heavy"
					Skill Normal
					Item "The Natascha"
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber                       
				}
			}
			

		}
		WaveSpawn
		{
			Name "w2c3"
			Where spawnbot
			WaitForAllSpawned "w2b"
			WaitBeforeStarting 3
			TotalCount 3	
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 0
			TotalCurrency 100
			
			TFBot
			{
				Template T_TFBot_Demoman_Samurai
			}
		}
		WaveSpawn
		{
			Name "w2s1"
			Where spawnbot_left
			WaitForAllSpawned "w2b"
			//WaitForAllDead "w1b"
			WaitBeforeStarting 12
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 4
			TotalCurrency 50
			
			TFBot
			{
				Class Demoman
				Skill Easy
			}
		}
	}

//WAVE 3  /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		
		WaveSpawn
		{
			Name "w3a"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllDead "w4a"
			//WaitBeforeStarting 3
			TotalCount 3
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 3
			TotalCurrency 300
			
			//RandomSpawn 1
			
			TFBot
			{
				Template T_TFBot_Giant_Scout_FAN
			}
		}
		WaveSpawn
		{
			Name "w3a2"
			Where spawnbot
			//WaitForAllSpawned "w3a"
			//WaitForAllDead "w1a"
			WaitBeforeStarting 4
			TotalCount 16
			MaxActive 4
			SpawnCount 4				
			WaitBetweenSpawns 5
			TotalCurrency 200
				
			Squad
			{		
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Battalion
				}
				TFBot
				{
					Class Soldier
					Skill Easy
				}
				TFBot
				{
					Class Soldier
					Skill Easy
				}
			}
		}
		WaveSpawn
		{
			Name "w3a3"
			Where spawnbot
			//WaitForAllSpawned "w1a"
			//WaitForAllDead "w1a"
			WaitBeforeStarting 2
			TotalCount 32
			MaxActive 14
			SpawnCount 4				
			WaitBetweenSpawns 2		
			TotalCurrency 200
			
			TFBot
			{
				Class Scout
				Skill Easy
				WeaponRestrictions MeleeOnly
			}
		}
		
		WaveSpawn // Tank
		{						
			Name "w3t1"
			//WaitForAllSpawned "w3a"
			//WaitForAllDead "w3b"
			WaitBeforeStarting 30
			//WaitBetweenSpawns 15
			TotalCount 1
			TotalCurrency 200
			
			FirstSpawnOutput 
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 10000
				Speed 75								
				Name "TankBossA"
				StartingPathTrackNode "tank_path_a_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
		
		WaveSpawn
		{	
			Name "w3s1"
			WaitForAllSpawned "w3t1"
			Where spawnbot_left
			WaitBeforeStarting 10
			TotalCount 4
			MaxActive 2
			SpawnCount 2					
			WaitBetweenSpawns 15
			TotalCurrency 100
				
			TFBot
			{
				Template T_TFBot_Soldier_RocketPush
			}			
		}
		
		WaveSpawn
		{	
			Name "w3s1"
			Where spawnbot_right
			WaitForAllSpawned "w3t1"
			//WaitForAllDead "w1a"
			WaitBeforeStarting 8
			TotalCount 20
			MaxActive 6					
			SpawnCount 3					
			WaitBetweenSpawns 10
			TotalCurrency 100
			
			Support 1
				
			TFBot
			{
				Class Demoman
				Skill Easy
			}			
		}
		WaveSpawn // Tank 2-3
		{						
			Name "w3t2"
			WaitForAllSpawned "w3t1"
			WaitBeforeStarting 15
			WaitBetweenSpawns 15
			TotalCount 2
			TotalCurrency 200
			
			FirstSpawnOutput 
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 10000
				Speed 75								
				Name "TankBossB"
				StartingPathTrackNode "tank_path_a_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
		
		WaveSpawn
		{
			Name "w3b"
			Where spawnbot
			WaitForAllSpawned "w3t1"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 10
			TotalCount 3
			MaxActive 3					
			SpawnCount 1					
			WaitBetweenSpawns 15
			TotalCurrency 200
				
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Crit
			}
		}
	}

//WAVE 4 /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////	
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		
		WaveSpawn
		{
			Name "w4a"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllDead "w3a"
			//WaitBeforeStarting 5
			TotalCount 6
			MaxActive 2
			SpawnCount 2
			WaitBetweenSpawns 6
			TotalCurrency 100
			
			TFBot
			{
				Template T_TFBot_Heavyweapons_Fist
			}
		}
		WaveSpawn
		{
			Name "w4a"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllDead "w3a"
			//WaitBeforeStarting 5
			TotalCount 8
			MaxActive 2
			SpawnCount 2
			WaitBetweenSpawns 6
			TotalCurrency 100
			
			TFBot
			{
				Template T_TFBot_Soldier_Extended_Concheror
			}
		}
		
		WaveSpawn
		{
			Name "w4i"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllDead "w4a"
			WaitBeforeStarting 5
			TotalCount 60	
			MaxActive 16
			SpawnCount 4
			WaitBetweenSpawns 2	
			TotalCurrency 300
			
			//RandomSpawn 1
			
			TFBot
			{
				Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
			}
		}
		WaveSpawn
		{
			Name "w4b"
			Where flankers
			//WaitForAllSpawned "w2a"
			//WaitForAllSpawned "w4b"
			WaitBeforeStarting 20
			TotalCount 4
			MaxActive 2
			SpawnCount 2
			WaitBetweenSpawns 12		
			TotalCurrency 200
			
			RandomSpawn 1
			
			TFBot
			{
				Template T_TFBot_Giant_Heavyweapons_Shotgun
			}
		}
		
		WaveSpawn
		{
			Name "w4f"
			Where spawnbot_giant
			WaitForAllSpawned "w4i"
			//WaitBeforeStarting 10
			TotalCount 3	
			MaxActive 3
			SpawnCount 3
			//WaitBetweenSpawns 10		
			TotalCurrency 150
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_Deflector
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}
		}
		WaveSpawn
		{
			Name "w4f2"
			Where spawnbot
			WaitForAllSpawned "w4f"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 5
			TotalCount 9
			MaxActive 6
			SpawnCount 3
			WaitBetweenSpawns 6
			TotalCurrency 100
			
			Support 1
			
			TFBot
			{
				Template T_TFBot_Soldier_Extended_Concheror
			}
		}
		
		WaveSpawn
		{
			Name "w4s"
			Where flankers
			WaitForAllSpawned "w4f"
			//WaitForAllDead "w3a"
			//WaitBeforeStarting 10
			TotalCount 16	
			MaxActive 10
			SpawnCount 4
			WaitBetweenSpawns 4
			TotalCurrency 150
			
			Support 1
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun
				}
			}
		}
	}

//WAVE 5 /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////	
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay_right
			Action trigger
		}
		
		WaveSpawn
		{
			Name "w5a"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllSpawned "w4b"
			//WaitBeforeStarting 20
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			//WaitBetweenSpawns 15		
			TotalCurrency 100
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Pyro
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic_Regen
				}
			}
		}
		WaveSpawn
		{
			Name "w5a2"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 2
			TotalCount 40
			MaxActive 16
			SpawnCount 4
			WaitBetweenSpawns 2
			TotalCurrency 200
			
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_Flaregun
				}
				TFBot
				{
					Template T_TFBot_Scout_SunStick
				}
				TFBot
				{
					Template T_TFBot_Scout_SunStick
				}
				TFBot
				{
					Template T_TFBot_Scout_SunStick
				}
			}
		}
		WaveSpawn
		{
			Name "w5s1"
			Where flankers
			//WaitForAllSpawned "w5a"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 6
			TotalCount 4
			MaxActive 4
			SpawnCount 4
			//WaitBetweenSpawns 8
			TotalCurrency 100
			
			RandomSpawn 1
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Demoman_Samurai
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}
		}

		WaveSpawn
		{
			Name "w5b"
			Where spawnbot
			WaitForAllSpawned "w5a2"
			//WaitBeforeStarting 5
			TotalCount 4
			MaxActive 2
			SpawnCount 2
			WaitBetweenSpawns 4
			TotalCurrency 150
			
			TFBot
			{
				Template T_TFBot_Giant_Scout_FAN
			}
		}
		WaveSpawn
		{
			Name "w5sup"
			Where spawnbot
			WaitForAllSpawned "w5a2"
			WaitBeforeStarting 2
			TotalCount 20
			MaxActive 16
			SpawnCount 4
			WaitBetweenSpawns 4
			TotalCurrency 150
			
			Support 1
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun
				}
			}
		}
		
		WaveSpawn
		{
			Name "w5s2"
			Where flankers
			WaitForAllSpawned "w5a2"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 6
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 4
			TotalCurrency 100
			
			RandomSpawn 1

			Squad
			{
				TFBot
				{
					Class Heavy
					ClassIcon heavy_heater
					Name "Heater Heavy"
					Skill Normal
					Item "The Huo Long Heatmaker"
					Item "The Bunsen Brave"
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}
		}
		
		WaveSpawn // Fast route Tank
		{
			Name "w5t1"
			WaitForAllSpawned "w5a2"
			//WaitForAllDead "w3b"
			//WaitBeforeStarting 85
			WaitBeforeStarting 10
			TotalCount 1
			//WaitBetweenSpawns 30
			TotalCurrency 200
			
			FirstSpawnOutput
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 20000				
				Speed 75								
				Name "TankBossB"
				StartingPathTrackNode "tank_path_b_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
	}

//WAVE 6 /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////	
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		
		WaveSpawn
		{
			Name "w6a"
			Where spawnbot_giant
			//WaitForAllSpawned "w4c"
			//WaitBeforeStarting 10
			TotalCount 3	
			MaxActive 3
			SpawnCount 3
			//WaitBetweenSpawns 10		
			TotalCurrency 100
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Soldier_Burstfire
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}
		}
		WaveSpawn
		{
			Name "w6a2"
			Where spawnbot
			//WaitForAllSpawned "w2a"
			//WaitForAllDead "w4a"
			WaitBeforeStarting 3
			TotalCount 40
			MaxActive 12
			SpawnCount 4
			WaitBetweenSpawns 2
			TotalCurrency 200
			
			TFBot
			{
				Class Scout
				Skill Normal
			}
		}
		
		WaveSpawn
		{
			Name "w6c"
			Where spawnbot_giant
			WaitForAllDead "w6a"
			WaitBeforeStarting 6
			TotalCount 3	
			MaxActive 3
			SpawnCount 1
			WaitBetweenSpawns 15	
			TotalCurrency 100
			
			Support 1
			
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Crit
			}
		}
		
		WaveSpawn // 1st Tank
		{
			Name "w6t1"
			//WaitForAllSpawned "w6a2"
			//WaitForAllDead "w3b"
			WaitBeforeStarting 10
			TotalCount 1
			WaitBetweenSpawns 15
			TotalCurrency 100
			
			FirstSpawnOutput
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 20000			
				Speed 75								
				Name "TankBossA"
				StartingPathTrackNode "tank_path_a_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
		WaveSpawn
		{
			Name "w6s1"
			Where spawnbot_right
			WaitForAllSpawned "w6t1"
			WaitBeforeStarting 6
			TotalCount 1	
			MaxActive 1			
			SpawnCount 1
			//WaitBetweenSpawns 15			
			TotalCurrency 50
			
			TFBot
			{
				Template T_TFBot_Demoman_Samurai
			}
		}
		WaveSpawn // 2nd Tank
		{
			Name "w6t2"
			WaitForAllSpawned "w6t1"
			//WaitForAllDead "w3b"
			WaitBeforeStarting 15
			TotalCount 1
			//WaitBetweenSpawns 15
			TotalCurrency 100
			
			FirstSpawnOutput
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 20000			
				Speed 75								
				Name "TankBossA"
				StartingPathTrackNode "tank_path_a_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
		
		WaveSpawn // Fast route Tank
		{
			Name "w6t3"
			WaitForAllSpawned "w6t1"
			//WaitForAllDead "w3b"
			//WaitBeforeStarting 85
			WaitBeforeStarting 30
			TotalCount 1
			//WaitBetweenSpawns 30
			TotalCurrency 200
			
			FirstSpawnOutput
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 20000				
				Speed 75								
				Name "TankBossB"
				StartingPathTrackNode "tank_path_b_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
		WaveSpawn // Final Tank
		{
			Name "w6t4"
			WaitForAllSpawned "w6t2"
			//WaitForAllDead "w3b"
			//WaitBeforeStarting 85
			WaitBeforeStarting 15
			TotalCount 1
			//WaitBetweenSpawns 15
			TotalCurrency 200
			
			FirstSpawnOutput
			
			{
				Target boss_spawn_relay                     
				Action Trigger                         
			}

			Tank
			{
				Health 30000			
				Speed 75
				Skin 1			
				Name "TankBossA"
				StartingPathTrackNode "tank_path_a_1"
				
				OnKilledOutput                              
				{
					Target boss_dead_relay					
					Action Trigger                
				}
					
				OnBombDroppedOutput                       
				{
					Target boss_deploy_relay 	
					Action Trigger                  
				}
			}
		}
		
		WaveSpawn
		{
			Name "w6sup2"
			Where spawnbot_invasion
			WaitForAllSpawned "w6a2"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 15
			TotalCount 5
			MaxActive 3
			SpawnCount 1
			WaitBetweenSpawns 15
			TotalCurrency 100
			
			Support 1
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Demoman_Samurai
				}
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_Shotgun
				}
				TFBot
				{
					Template T_TFBot_Giant_Pyro_Flare_Spammer
				}
				TFBot
				{
					Class Sniper
					Name "Giant Rapid Bowman"
					Item "The Huntsman"
					ClassIcon sniper_bow_spammer
					Skill Hard
					Health 1500
					Attributes	MiniBoss
					Attributes AlwaysCrit
					
					ItemAttributes
					{
						ItemName	"The Huntsman"
						"faster reload rate" -2
					}
					CharacterAttributes
					{
						"move speed bonus"	0.6
						"damage force reduction" 0.3
						"airblast vulnerability multiplier" 0.3
						"override footstep sound set" 7
					}
				}
			}
		}
		
		WaveSpawn
		{
			Name "w6sup3"
			Where spawnbot_invasion
			WaitForAllSpawned "w6a2"
			//WaitForAllDead "w3a"
			WaitBeforeStarting 10
			TotalCount 20
			MaxActive 12
			SpawnCount 4
			WaitBetweenSpawns 6
			TotalCurrency 100
			
			Support 1
			
			TFBot
			{
				Template T_TFBot_Scout_Melee
			}
		}
	}
}