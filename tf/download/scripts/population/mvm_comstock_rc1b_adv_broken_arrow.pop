#base robot_giant.pop
#base robot_standard.pop
#base robot_comstock.pop
#base robot_gatebot.pop

WaveSchedule
{
	StartingCurrency 650
	RespawnWaveTime 6
	CanBotsAttackWhileInSpawnRoom no
	
	Mission
	{
		Objective DestroySentries
		InitialCooldown 20
		Where spawnbot
		BeginAtWave 1
		RunForThisManyWaves 3
		CooldownTime 40
		DesiredCount 1
		TFBot
		{
			Template T_TFBot_SentryBuster 
		}
	}
	Mission // Spy - Wave 5
	{
		Objective Spy
		
		InitialCooldown 60
		Where spawnbot
		BeginAtWave 5
		RunForThisManyWaves 1
		InitialCooldown 200
		CooldownTime 50
		DesiredCount 2
		TFBot
		{
			Class Spy
			Skill Expert
		}
	}
	Mission // Trail Sentry Buster - 3 and beyond
	{
		Objective DestroySentries
		InitialCooldown 20
		Where spawnbot
		BeginAtWave 4
		RunForThisManyWaves 2
		CooldownTime 40
		DesiredCount 1
		TFBot
		{
			Template T_TFBot_Trail_Buster
		}
	}
	Mission // Sniper - Wave 3 to INF | 40sec Cooldown
	{
		Objective Sniper
		InitialCooldown 30
		Where spawnbot_left
		BeginAtWave 3
		RunForThisManyWaves 6
		CooldownTime 40
		DesiredCount 1
		
		TFBot
		{
			Template T_TFBot_Sniper
		}
	}
	//Wave 01
	//WAVE SUM : 750
	//Total post wave:  1400 (Not factoring bonus)
	Wave
	{
		WaitWhenDone 60
		Sound "Announcer.IncomingMob"
		Checkpoint Yes
		
		StartWaveOutput
		{
			Target wave_start_relay
			Action trigger
		}
		DoneOutput												
		{
			Target wave_finished_relay
			Action trigger			
		}
		//Make the wave a meatgrinder
		InitWaveOutput
		{
			Target pop_bombpath_choose_path_b
			Action trigger
		}
		//-------------------------------------------------------------------------------------INIT WAVES : Build tension before mission start.
		//100 dosh in init
		WaveSpawn // BB Gravity Soldiers - Small | ??? 
		{
			TotalCurrency 50
			Name "w1_soldiers"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 8
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 2
			WaitBeforeStarting 5
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Soldier_RocketShotgun_Gravity
			}	
		}
		WaveSpawn // Quakebot - Small | ??? 
		{
			TotalCurrency 50
			Name "w1_quakerbots"
			WaitForAllDead "w1_soldiers"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 8
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 2
			WaitBeforeStarting 2
			RandomSpawn 1
			TFBot
			{
				Template T_TFGateBot_Heavy_Quaker_Small
			}	
		}
		//-------------------------------------------------------------------------------------[B SUBWAVE]
		// 225 dosh
		WaveSpawn // Quakebot - Small | ??? //WAVE B: INIT
		{
			TotalCurrency 75
			Name "w1_B_1"
			WaitForAllDead "w1_quakerbots"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 16
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 4
			WaitBeforeStarting 4
			RandomSpawn 1
			TFBot
			{
				Template T_TFGateBot_Heavy_Quaker_Small
			}	
		}
		WaveSpawn // GiantScoutMelee - Small | ??? //WAVE B: INIT
		{
			TotalCurrency 50
			Name "w1_B_2"
			WaitForAllSpawned "w1_B_1"
			Where spawnbot_left
			TotalCount 24
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 6
			WaitBeforeStarting 14
			RandomSpawn 1
			TFBot
			{
				Template T_TFGateBot_Scout_Sandman_FastCharge
			}	
		}
		WaveSpawn //Cap Tank | 100
		{
			TotalCount 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 10
			TotalCurrency 150
			LastSpawnWarningSound "Announcer.SecurityAlert"
			Name "w1_B_END"
			WaitForAllSpawned "w1_B_2"
			Tank
			{
				Name "tankboss"
				Health 9000
				Speed 125
				StartingPathTrackNode "tank_path_start"
				Skin 0
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		//-------------------------------------------------------------------------------------[A SUBWAVE]
		//
		WaveSpawn // BB Gravity Soldiers - Small | ??? //WAVE A: INIT
		{
			TotalCurrency 75
			Name "w1_A_1"
			WaitForAllDead "w1_quakerbots"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 16
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 4
			WaitBeforeStarting 4
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Soldier_RocketShotgun_Gravity
			}	
		}
		WaveSpawn // Pyro Giants + uber - main GATEBOT
		{
			TotalCurrency 100
			WaitForAllSpawned "w1_A_1"
			Name "w1_A_2"
			Where spawnbot_right
			TotalCount 15
			MaxActive 10
			SpawnCount 5
			WaitBetweenSpawns 8
			WaitBeforeStarting 7
			Squad
			{
				FormationSize 500
				TFBot
				{
					Template T_TFBot_Giant_Pyro_Alwaysfire
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
			}
		}
		WaveSpawn // RocketShotgun Giant| ???
		{
			TotalCurrency 100
			Name "w1_A_3"
			WaitForAllSpawned "w1_A_2"
			Where spawnbot
			TotalCount 4
			MaxActive 4
			SpawnCount 1
			WaitBetweenSpawns 7
			WaitBeforeStarting 5
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Mortar
			}
		}
		WaveSpawn // BB Gravity Soldiers | Support
		{
			TotalCurrency 0
			Name "w1_soldiers_support"
			WaitForAllSpawned "w1_A_3"
			Where spawnbot_left
			Where spawnbot_right
			Support 1
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 15
			WaitBeforeStarting 15
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Soldier_RocketShotgun_Gravity
			}	
		}
		WaveSpawn // Quakebot - Large | ???
		{
			TotalCurrency 100
			Name "w1_A_3_PART2"
			WaitForAllSpawned "w1_A_2"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 6
			WaitBeforeStarting 10
			RandomSpawn 1
			TFBot
			{
				Template T_TFGateBot_Heavy_Quaker
			}	
		}
		WaveSpawn // Quakebot - Small | SUPPORT 
		{
			TotalCurrency 0
			Name "w1_quakersupport"
			WaitForAllDead "w1_A_3_PART2"
			Where spawnbot_left
			Where spawnbot_right
			Support 1
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 15
			WaitBeforeStarting 15
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Heavy_Quaker_Small
			}
		}
	}
	//Wave 02
	//WAVE SUM : 800
	//Total post wave:  2,200 (Not factoring bonus)
	Wave
	{
		WaitWhenDone 60
		Sound "Announcer.IncomingMob"
		Checkpoint Yes
		
		StartWaveOutput
		{
			Target wave_start_relay
			Action trigger
		}
		DoneOutput												
		{
			Target wave_finished_relay
			Action trigger									
		}
		//Ok, enough meatgrinder. Lets show that there are two paths.
		//From here on out, the map will pick randomly.
		//Works well with the fan scouts, can catch players who are sleeping
		InitWaveOutput
		{
			Target pop_bombpath_choose_path_a
			Action trigger
		}
		//-------------------------------------------------------------------------------------SUBWAVE A : BombPushers
		WaveSpawn // FAN 
		{
			//Get bomb distance?
			TotalCurrency 50
			Name "w2_A_0"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 4
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 7
			WaitBeforeStarting 1
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Giant_Scout_FAN
			}	
		}
		WaveSpawn // Pyro Giants + uber - main GATEBOT
		{
			TotalCurrency 100
			WaitForAllSpawned "w2_A_0"
			Name "w1_A_2"
			Where spawnbot_right
			TotalCount 8
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 10
			WaitBeforeStarting 7
			Squad
			{
				FormationSize 500
				TFBot
				{
					Template T_TFBot_Giant_Pyro_Flare_Spammer
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
			}
		}
		//-------------------------------------------------------------------------------------SUBWAVE B :Gate cappers
		WaveSpawn // Huntsman : ignition arrows 
		{
			TotalCurrency 100
			Name "w2_B_0_hunts"
			Where spawnbot_left
			TotalCount 8
			MaxActive 3
			SpawnCount 1
			WaitBetweenSpawns 8
			WaitBeforeStarting 20
			TFBot
			{
				Template T_TFGateBot_Sniper_Huntsman_Spammer_NonCrit
			}
		}
		WaveSpawn // pyro : ignition arrows 
		{
			TotalCurrency 100
			Name "w2_B_0_pyro"
			WaitForAllSpawned "w2_A_0"
			Where spawnbot_left
			TotalCount 15
			MaxActive 10
			SpawnCount 5
			WaitBetweenSpawns 7
			WaitBeforeStarting 10
			TFBot
			{
				Template T_TFGateBot_Pyro_AlwaysFireWeapon
			}
		}
		WaveSpawn //Cap Tank
		{
			TotalCount 1
			WaitBeforeStarting 20
			WaitBetweenSpawns 10
			TotalCurrency 150
			LastSpawnWarningSound "Announcer.SecurityAlert"
			Name "w2_B_1"
			WaitForAllSpawned "w2_B_0_pyro"
			Tank
			{
				Name "tankboss"
				Health 10000
				Speed 100
				StartingPathTrackNode "tank_gate_path_start"
				Skin 0
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn // Heavy gatebot tank helper.
		{
			TotalCurrency 100
			Name "w2_B_1_heavies"
			WaitForAllSpawned "w2_B_0_pyro"
			Where spawnbot_left
			Where spawnbot_right
			TotalCount 16
			MaxActive 12
			SpawnCount 2
			WaitBetweenSpawns 4
			WaitBeforeStarting 10
			RandomSpawn 1
			TFBot
			{
				Template T_TFGateBot_Heavy_Normal
			}	
		}
		//-------------------------------------------------------------------------------------Finale Subwaves C: Post tank
		WaveSpawn //Gatebot Heavy shotgun
		{
			Name "w2_C_0"
			TotalCurrency 50
			WaitForAllDead "w2_B_1_heavies"
			Where spawnbot_left
			Where spawnbot_right
			Support 1
			MaxActive 6
			SpawnCount 3
			WaitBetweenSpawns 20
			WaitBeforeStarting 25
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Heavyweapons_Shotgun
			}
		}
		WaveSpawn // Flaregun pyro
		{
			Name "w2_C_1"
			WaitForAllDead "w2_B_1_heavies"
			TotalCurrency 50
			Where spawnbot_left
			Where spawnbot_right
			Support 1
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 30
			WaitBeforeStarting 25
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Pyro_Flaregun
			}
		}
		//-------------------------------------------------------------------------------------Finale Subwaves D: Post tank
		WaveSpawn // Heavy + Medic
		{
			//Get bomb distance?
			TotalCurrency 150
			Name "w2_D_0"
			WaitForAllDead "w2_B_1"
			Where spawnbot_left
			TotalCount 4
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 0
			WaitBeforeStarting 15
			Squad
			{
				FormationSize 500
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_Custom
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
			}
		}
	}
	//Wave 03
	//WAVE SUM : 700
	//Total post wave:  2,900 (Not factoring bonus)
	Wave
	{
		WaitWhenDone 60
		Sound "Announcer.IncomingMob"
		Checkpoint Yes
		
		StartWaveOutput
		{
			Target wave_start_relay
			Action trigger
		}
		DoneOutput												
		{
			Target wave_finished_relay
			Action trigger									
		}
		//------------------------------------------------------------------------------------- INIT :: trap state
		WaveSpawn // BaseJumper
		{
			Name "w3_trap_bj"
			Where spawnbot_left
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 45
			WaitBeforeStarting 10
			Support 1
			TFBot
			{
				Template T_TFBot_Soldier_Airstrike_Comstock
			}
		}
		WaveSpawn // Rocket Shotgun soldiers
		{
			TotalCurrency 75
			Name "w3_trap"
			Where spawnbot_right
			TotalCount 16
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 20
			WaitBeforeStarting 15
			TFBot
			{
				Template T_TFBot_Soldier_RocketShotgun_Gravity
			}
		}
		//------------------------------------------------------------------------------------- INIT :: Continued state
		WaveSpawn // Heavy deflector
		{
			TotalCurrency 75
			Name "w3_mainstate_01"
			Where spawnbot_left
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			WaitBetweenSpawns 14
			WaitBeforeStarting 0
			TFBot
			{
				Template T_TFGateBot_Giant_Heavyweapons_Deflector
			}
		}
		//------------------------------------------------------------------------------------- A subwave
		WaveSpawn // RocketShotgun Giant mortar
		{
			TotalCurrency 100
			Name "w3_A_0"
			WaitForAllDead "w3_mainstate_01"
			Where spawnbot_right
			TotalCount 6
			MaxActive 6
			SpawnCount 1
			WaitBetweenSpawns 8
			WaitBeforeStarting 10
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Mortar
			}
		}
		WaveSpawn // Homing soldiers
		{
			TotalCurrency 150
			Name "w3_A_1"
			WaitForAllSpawned "w3_A_0"
			Where spawnbot
			TotalCount 16
			MaxActive 16
			SpawnCount 4
			WaitBetweenSpawns 6
			WaitBeforeStarting 10
			TFBot
			{
				Template T_TFBot_HomingSoldier_Small
			}
		}
		//------------------------------------------------------------------------------------- B subwave
		WaveSpawn 
		{							
			Where spawnbot
			MaxActive 2
			SpawnCount 2
			WaitBetweenSpawns 45
			WaitBeforeStarting 30
			WaitForAllDead "w3_mainstate_01"
			Support 1
			Squad 
			{
				TFBot
				{
					Template T_TFBot_Engineer_Sentry_Tele_Battle
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber      
					Tag bot_squad_member					
				}
			}
		}
		WaveSpawn // Shotgun heavy
		{
			TotalCurrency 50
			WaitForAllSpawned "w3_mainstate_01"
			Name "w3_B_0"
			Where spawnbot
			TotalCount 18
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 8
			WaitBeforeStarting 15
			TFBot
			{
				Template T_TFGateBot_Heavyweapons_Shotgun
			}
		}
		WaveSpawn // Quaker Heavy
		{
			TotalCurrency 100
			WaitForAllSpawned "w3_B_0"
			Name "w3_B_1"
			Where spawnbot
			TotalCount 8
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 10
			WaitBeforeStarting 10
			TFBot
			{
				Template T_TFGateBot_Heavy_Quaker
			}
		}
		WaveSpawn // GRU heavy
		{
			WaitForAllSpawned "w3_B_1"
			Name "w3_B_2"
			Where spawnbot
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 8
			WaitBeforeStarting 10
			Support 1
			TFBot
			{
				Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast_Crits
			}
		}
		//------------------------------------------------------------------------------------- FINALE
		WaveSpawn // Homing soldier + medic
		{
			//Get bomb distance?
			TotalCurrency 150
			Name "w3_finale"
			WaitForAllSpawned "w3_A_1"
			Where spawnbot_left
			TotalCount 6
			MaxActive 6
			SpawnCount 2
			WaitBetweenSpawns 15
			WaitBeforeStarting 10
			Squad
			{
				FormationSize 500
				TFBot
				{
					Template T_TFBot_HomingSoldier
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic_Lesser //Added _Lesser because playtest revealed pain
					Tag bot_squad_member
				}
			}
		}
	}
	//Wave 04
	//WAVE SUM : 750
	//Total post wave:  3,650 (Not factoring bonus)
	Wave
	{
		WaitWhenDone 60
		Sound "Announcer.IncomingMob"
		Checkpoint Yes
		
		StartWaveOutput
		{
			Target wave_start_relay
			Action trigger
		}
		DoneOutput												
		{
			Target wave_finished_relay
			Action trigger									
		}
		//Use lower path. These bonk scouts are scary, especially when they cut you off by taking the bridge.
		InitWaveOutput
		{
			Target pop_bombpath_choose_path_b
			Action trigger
		}
		//------------------------------------------------------------------------------------- A subwave
		WaveSpawn // Bonk Scouts
		{
			Name "w4_A_0"
			Where spawnbot
			TotalCurrency 50
			TotalCount 4
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 6
			WaitBeforeStarting 1
			TFBot
			{
				Template T_TFBot_Giant_Scout_Bonk_Lesser
			}
		}
		WaveSpawn // Conch
		{
			WaitForAllSpawned "w4_A_0"
			Name "w4_A_half"
			TotalCurrency 50
			Where spawnbot
			TotalCount 20
			MaxActive 12
			SpawnCount 4
			WaitBetweenSpawns 7
			WaitBeforeStarting 20
			TFBot
			{
				Template T_TFBot_Soldier_Comstock_Conch
			}
		}
		WaveSpawn // Conch
		{
			WaitForAllSpawned "w4_A_half"
			Name "w4_A_1"
			TotalCurrency 25
			Where spawnbot
			TotalCount 16
			MaxActive 8
			SpawnCount 4
			WaitBetweenSpawns 14
			WaitBeforeStarting 10
			TFBot
			{
				Template T_TFBot_Soldier_Comstock_Conch
			}
		}
		WaveSpawn // Loch N load demos
		{
			WaitForAllSpawned "w4_A_1"
			Name "w4_A_2"
			Where spawnbot
			TotalCurrency 25
			TotalCount 12
			MaxActive 6
			SpawnCount 6
			WaitBetweenSpawns 3
			WaitBeforeStarting 5
			TFBot
			{
				Template T_TFBot_Demo_Burst_Loch_N_Load
			}
		}
		WaveSpawn // Support flareguns...
		{
			Name "w4_A_3"
			WaitForAllSpawned "w4_A_2"
			Where spawnbot
			MaxActive 6
			SpawnCount 6
			Support 1
			WaitBetweenSpawns 60
			WaitBeforeStarting 5
			TFBot
			{
				Template T_TFBot_Pyro_Flaregun
			}
		}
		//------------------------------------------------------------------------------------- B subwave
		WaveSpawn // huntsman mini-giant crit + medic - upper
		{
			TotalCurrency 100
			Name "w4_B_0"
			Where spawnbot
			TotalCount 8
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 7
			WaitBeforeStarting 15
			RandomSpawn 1
			Squad
			{
				TFBot
				{
					Template T_TFGateBot_Sniper_Huntsman_Spammer_NonCrit
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
			}
		}
		WaveSpawn // Tank Supporting heavies
		{
			WaitForAllSpawned "w4_B_0"
			Name "w4_B_2"
			Where spawnbot
			TotalCurrency 50
			TotalCount 24
			MaxActive 12
			SpawnCount 4
			WaitBetweenSpawns 8
			WaitBeforeStarting 10
			TFBot
			{
				Template T_TFGateBot_Heavy_Normal
			}
		}
		WaveSpawn // Tank
		{
			TotalCount 1
			WaitBeforeStarting 4
			WaitBetweenSpawns 10
			TotalCurrency 75
			LastSpawnWarningSound "Announcer.SecurityAlert"
			Name "w4_B_1"
			WaitForAllSpawned "w4_B_0"
			Tank
			{
				Name "tankboss"
				Health 9000
				Speed 125
				StartingPathTrackNode "tank_gate_path_start"
				Skin 0
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn // Pyro Giants + uber - main GATEBOT
		{
			TotalCurrency 100
			Name "w4_B_3"
			WaitForAllSpawned "w4_B_2"

			Where spawnbot
			TotalCount 15
			MaxActive 12
			SpawnCount 4
			WaitBetweenSpawns 6
			WaitBeforeStarting 0
			Squad
			{
				FormationSize 500

				TFBot
				{
					Template T_TFGateBot_Giant_Pyro_AlwaysFire
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Tag bot_squad_member
				}
			}
		}
		WaveSpawn // Support rockets...
		{
			//Show the player how far they have come. Wow, we started with these guys... and now they are dust when i look at them..
			//poetic.... or lazy.... not sure.........
			Name "w4_B_support"
			WaitForAllSpawned "w4_B_3"
			Where spawnbot
			MaxActive 6
			SpawnCount 6
			Support 1
			WaitBetweenSpawns 60
			WaitBeforeStarting 5
			TFBot
			{
				Template T_TFBot_Soldier_RocketShotgun_Gravity
			}
		}
		//------------------------------------------------------------------------------------- FINALE
		WaveSpawn // Tank
		{
			TotalCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 10
			TotalCurrency 150
			LastSpawnWarningSound "Announcer.SecurityAlert"
			Name "w4_F_1"
			WaitForAllDead "w4_B_3"
			Tank
			{
				Name "tankboss"
				Health 14000
				Speed 125
				StartingPathTrackNode "tank_path_start"
				Skin 0
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn // Non-Homing Nuker
		{
			TotalCurrency 100
			Name "w4_F_2"
			WaitForAllDead "w4_B_3"
			Where spawnbot
			TotalCount 4
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 0
			WaitBeforeStarting 5
			Squad
			{
				FormationSize 500

				TFBot
				{
					Template T_TFBot_NukeSoldier_Boss
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
					Tag bot_squad_member
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
					Tag bot_squad_member
				}
			}
		}
	}
	//Wave 05
	Wave
	{
		WaitWhenDone 60
		Sound "Announcer.IncomingMob"
		Checkpoint Yes
		
		StartWaveOutput
		{
			Target wave_start_relay
			Action trigger
		}
		DoneOutput												
		{
			Target wave_finished_relay
			Action trigger									
		}
		WaveSpawn // Tank
		{
			TotalCount 1
			WaitBeforeStarting 7
			WaitBetweenSpawns 10
			TotalCurrency 150
			LastSpawnWarningSound "Announcer.SecurityAlert"
			Name "w5_1"
			Tank
			{
				Name "tankboss"
				Health 12000
				Speed 100
				StartingPathTrackNode "tank_gate_path_start"
				Skin 0
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn // Caber demomen
		{
			TotalCurrency 100
			Name "w5_2"
			Where spawnbot
			TotalCount 16
			MaxActive 16
			SpawnCount 16
			WaitBetweenSpawns 7
			WaitBeforeStarting 5
			TFBot
			{
				Template T_TFBot_Demoman_Caber
			}
		}
		WaveSpawn // Caber demomen
		{
			TotalCurrency 100
			Name "w5_2_support"
			Where spawnbot
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 30
			WaitBeforeStarting 20
			support 1
			TFBot
			{
				Template T_TFBot_Demoman_Caber
			}
		}
		WaveSpawn // Heavy + pyro group
		{
			TotalCurrency 100
			Name "w5_4"
			Where spawnbot_right
			Where spawnbot_left
			WaitForAllSpawned "w5_2"
			TotalCount 32
			MaxActive 16
			SpawnCount 4
			WaitBetweenSpawns 7
			WaitBeforeStarting 10
			RandomSpawn 1
			Squad
			{
				TFBot
				{
					Template T_TFBot_Pyro_Expert_Comstock
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Comstock
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Comstock
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Comstock
				}
			}
		}
		WaveSpawn // Flaregun Small pyro + long range pyro
		{
			TotalCurrency 100
			Name "w5_6"
			WaitForAllSpawned "w5_4"
			Where spawnbot
			TotalCount 15
			MaxActive 10
			SpawnCount 5
			WaitBetweenSpawns 15
			WaitBeforeStarting 20
			Squad
			{
				TFBot
				{
					Template T_TFBot_Pyro_Flaregun
				}
				TFBot
				{
					Template T_TFBot_Pyro_Flaregun
				}
				TFBot
				{
					Template T_TFBot_Pyro_Flaregun
				}
				TFBot
				{
					Template T_TFBot_Pyro_Flaregun
				}
				TFBot
				{
					Template T_TFBot_Long_Range_Pyro
				}
			}
		}
		WaveSpawn // Burst demomen + medics
		{
			TotalCurrency 100
			Name "w5_3"
			WaitForAllDead "w5_1"
			WaitForAllSpawned "w5_2"
			Where spawnbot
			TotalCount 12
			MaxActive 6
			SpawnCount 3
			WaitBetweenSpawns 7
			WaitBeforeStarting 5
			Squad
			{
				TFBot
				{
					Template T_TFGateBot_Giant_Demo_Burst
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}
		}
		WaveSpawn // Art soldiers + crit medics
		{
			TotalCurrency 100
			Name "w5_5"
			WaitForAllSpawned "w5_3"
			Where spawnbot
			TotalCount 8
			MaxActive 4
			SpawnCount 2
			WaitBetweenSpawns 10
			WaitBeforeStarting 10
			Squad
			{
				FormationSize 500

				TFBot
				{
					Template T_TFGateBot_Giant_Soldier_Mortar
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
				}
			}
		}
		//------------------------------------------------------------------------------------- FINALE !!!
		WaveSpawn // Nuke boss + giant crit medics
		{
			TotalCurrency 100
			Name "w5_FINAL"
			WaitForAllDead "w5_5"
			Where spawnbot
			TotalCount 4
			MaxActive 4
			SpawnCount 4
			WaitBetweenSpawns 0
			WaitBeforeStarting 25
			Squad
			{
				FormationSize 500
				TFBot
				{
					Template T_TFBot_HomingNukeSoldier_Boss
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
				}
				TFBot
				{
					Template T_TFBot_Giant_Kritzkrieg_Medic
				}
			}
		}
		WaveSpawn 
		{
			Name "w2_C_0"
			TotalCurrency 50
			WaitForAllDead "w5_6"
			Where spawnbot_left
			Where spawnbot_right
			Support 1
			MaxActive 6
			SpawnCount 3
			WaitBetweenSpawns 40
			WaitBeforeStarting 10
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Heavy_Quaker
			}
		}
		WaveSpawn 
		{
			Name "w2_C_0"
			TotalCurrency 50
			WaitForAllDead "w5_6"
			Where spawnbot_left
			Where spawnbot_right
			Support 1
			MaxActive 6
			SpawnCount 3
			WaitBetweenSpawns 40
			WaitBeforeStarting 20
			RandomSpawn 1
			TFBot
			{
				Template T_TFBot_Soldier_RocketShotgun_Gravity
			}
		}
	}
}